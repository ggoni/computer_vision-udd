# ============================================================================
# Computer Vision MLOps Platform - Environment Configuration Template
# Copy this file to .env and customize the values for your deployment
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_USER=cvuser
POSTGRES_PASSWORD=cvpass123
POSTGRES_DB=computer_vision_db
DATABASE_URL=postgresql+asyncpg://cvuser:cvpass123@postgres:5432/computer_vision_db

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_PASSWORD=redis_password_123
REDIS_URL=redis://redis:6379/0

# ============================================================================
# MINIO / OBJECT STORAGE CONFIGURATION
# ============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio123456
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minio123456
MINIO_BUCKET_IMAGES=cv-images
MINIO_BUCKET_MODELS=cv-models
MINIO_BUCKET_EXPERIMENTS=cv-experiments

# ============================================================================
# ML MODEL CONFIGURATION
# ============================================================================
MODEL_NAME=hustvl/yolos-tiny
# Alternative models: hustvl/yolos-small, hustvl/yolos-base
CONFIDENCE_THRESHOLD=0.5
MODEL_CACHE_DIR=/app/.cache/models

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Security
SECRET_KEY=your-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================
PROMETHEUS_METRICS=true
METRICS_PORT=8001

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana123

# ============================================================================
# JUPYTER / EDA CONFIGURATION
# ============================================================================
JUPYTER_TOKEN=eda_token_123
JUPYTER_PASSWORD=
JUPYTER_PORT=8888

# ============================================================================
# TRAINING CONFIGURATION
# ============================================================================
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_S3_ENDPOINT_URL=http://minio:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minio123456

# Training parameters
BATCH_SIZE=16
LEARNING_RATE=0.001
NUM_EPOCHS=10
DEVICE=cuda  # or cpu

# ============================================================================
# NETWORKING CONFIGURATION
# ============================================================================
DOCKER_NETWORK_SUBNET=172.20.0.0/16

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# API Workers
UVICORN_WORKERS=4
UVICORN_MAX_REQUESTS=1000
UVICORN_MAX_REQUESTS_JITTER=50

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Redis Connection Pool
REDIS_MAX_CONNECTIONS=50

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=/backup

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================
# Set to true for development
DEV_MODE=false
AUTO_RELOAD=false
DEBUG_SQL=false

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://cvuser:cvpass123@postgres:5432/cv_test_db

# ============================================================================
# CLOUD PROVIDER CONFIGURATION (Optional)
# ============================================================================
# AWS Configuration
# AWS_REGION=us-west-2
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=cv-production-bucket

# Google Cloud Configuration  
# GOOGLE_CLOUD_PROJECT=your-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# GCS_BUCKET=cv-production-bucket

# Azure Configuration
# AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
# AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
# AZURE_CONTAINER_NAME=cv-production-container

# ============================================================================
# ALERTING CONFIGURATION
# ============================================================================
# Slack notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL_TO=alerts@yourcompany.com

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_SWAGGER_UI=true
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHING=true
ENABLE_ASYNC_PROCESSING=true

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# File upload limits
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp

# CORS Configuration
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# ============================================================================
# EXPERIMENTAL FEATURES
# ============================================================================
ENABLE_MODEL_VERSIONING=false
ENABLE_A_B_TESTING=false
ENABLE_AUTO_SCALING=false
ENABLE_GPU_ACCELERATION=false